# hello-spring
### 인프런 강의: [스프링 입문 - 코드로 배우는 스프링 부트, 웹 MVC, DB 접근 기술](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%EC%9E%85%EB%AC%B8-%EC%8A%A4%ED%94%84%EB%A7%81%EB%B6%80%ED%8A%B8)

---
### 프로젝트 환경 설정

- Project: Gradle - Groovy Project
- Spring Boot: 3.2.0
- Java: 17

### 스프링 웹 개발 기초
1. 정적 컨텐츠
   - 동적으로 생성되지 않고 고정된 내용을 제공 (HTML, CSS, JavaScript, 이미지 파일 등)
   - 기본적으로 `/resources/static` 디렉토리
2. MVC 와 템플릿 엔진
   - MVC: Model, View, Controller
   - 템플릿 엔진 : 동적 컨텐츠를 생성하기 위해 사용되는 도구
     - Thymeleaf, FreeMarker, Velocity 등 
   - 템플릿 엔진은 동적인 컨텐츠를 생성하고, 
     `View Resolver` 가 컨트롤러에서 반환된 뷰 이름을 실제 뷰 객체로 변환하여 최종적인 결과물을 생성 (뷰 리턴)
3. API
   - `@ResponseBody`: HTTP의 BODY에 문자 내용을 직접 반환 (문자 반환 or 객체 반환)
     - `viewResolver` 대신에 `HttpMessageConverter` 가 동작

### 회원 관리 예제
    데이터: 회원ID, 이름
    기능: 회원 등록, 조회
    아직 데이터 저장소가 선정되지 않음(가상의 시나리오)
- 데이터 저장소가 선정되지 않았기 때문에 인터페이스로 구현 클래스를 변경할 수 있도록 설계
  - DI 사용 -> 스프링 설정만으로(`Configuration`만 변경) 기존 코드 손대지 않고 변경 가능
  - 스프링은 다형성을 편리하게 활용할 수 있도록 스프링 컨테이너와 DI를 제공
  
### 테스트 작성
1. 단위 테스트
   - 함수, 메서드, 또는 클래스와 같은 작은 코드 단위로 동작 확인
   - 테스트는 독립적으로 실행되어야 함.
   - 빠름.
2. 통합 테스트
   - 스프링 컨테이너와 DB까지 연결하여 동작 확인
   - 전체 시스템이 완전하게 동작하는지 확인

### 스프링 빈과 의존관계
    스프링 컨테이너에서 스프링 빈이 관리된다
- 스프링 빈 : 스프링에서 관리되는 객체
- 스프링 컨테이너 : 스프링 빈을 생성, 관리하고 제공하는 컨테이너

스프링 빈 등록 방법
1. 컴포넌트 스캔과 자동 의존관계 설정
   - 개발자가 명시적으로 빈과 의존성을 설정하지 않아도 스프링 컨테이너가 자동으로 빈 등록
   - 컴포넌트 스캔
     - 스프링이 `@Component` 어노테이션으로 해당 클래스들을 식별하여 빈으로 등록
     - `@Component` 를 포함하는 `@Service`, `@Repository`, `@Controller` 등의 어노테이션도 스프링 빈으로 자동 등록
   - 자동 의존관계 설정
     - 의존성 주입(DI) : 생성자 주입, 필드 주입, setter 주입
     - `@Autowired` 어노테이션 사용
2. 자바 코드로 직접 등록
   - `@Configuration` 어노테이션이 붙은 스프링의 Java Config 방식
   - `@Bean` 어노테이션을 사용하여 빈 등록

### 스프링 DB 접근 기술
- 순수 JDBC
  - 자바에서 데이터베이스에 접근하기 위한 API
  - 직접 Connection을 열고 관리해야 하며, SQL을 문자열로 작성하여 실행
- Jdbc Template
  - JDBC의 반복적이고 번거로운 작업을 간소화
  - 하지만 SQL은 직접 작성해야 함
- **JPA**
  - 객체와 관계형 데이터베이스 간의 매핑을 위한 API
  - JPA는 기존의 반복 코드는 물론이고, 기본적인 SQL도 JPA가 직접 만들어서 실행해줌
  - 객체와 테이블 간의 매핑을 어노테이션으로 설정
- 스프링 데이터 JPA
  - JPA를 기반으로 하는 데이터베이스 액세스 기술을 지원
  - Repository 인터페이스를 작성하면, 스프링 데이터 JPA가 해당 Repository에 대한 구현체를 자동으로 생성함

### AOP
- 여러 비즈니스 로직에서 반복되는 부가 기능을 하나의 공통 로직으로 처리하도록 모듈화해 삽입하는 방식
  - 공통 관심 사항(cross-cutting concern) vs 핵심 관심 사항(core concern) 분리
- 스프링은 프락시 패턴을 통해 AOP 기능을 제공
- OOP와 마찬가지로 모듈화해서 재사용 가능한 구성을 만든다.
  - 개발자가 비즈니스 로직을 구현하는 데만 집중할 수 있게 도와줌
